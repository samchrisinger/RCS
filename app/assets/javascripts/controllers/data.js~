app.controller('DataCtrl', ['$scope', '$rootScope', 'Observation',
    function($scope, $rootScope, Observation){
	$scope.min = Math.min;
	$scope.max = Math.max;
	$scope.floor = Math.floor;
	
	$scope.observations = [];
	    
	$scope.getObservations = function(page){
	    if (page*20 > $scope.observations.length){
		Observation.query({page:$scope.page}, function(observations){		    
		    $scope.observations
		    return observations;
		});	
	    }
	};
	$scope.page = 1;
	$scope.current_user = $rootScope.current_user;
    }]
);

